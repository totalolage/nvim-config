#!/bin/zsh

# Source zshenv to get fnm path and environment
source ~/.zshenv

# Check in current working directory for .nvmrc
if [[ -f "$PWD/.nvmrc" ]] && command -v fnm >/dev/null 2>&1; then
  fnm use --silent-if-unchanged >/dev/null 2>&1
fi

# If no arguments, start interactive shell
if [[ $# -eq 0 ]]; then
  exec /bin/zsh
else
  # Execute the command
  exec /bin/zsh -c "$@"
fi
